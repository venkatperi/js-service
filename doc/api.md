<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Service][1]
    -   [Parameters][2]
    -   [failureReason][3]
    -   [state][4]
    -   [isRunning][5]
    -   [running][6]
    -   [terminated][7]
    -   [start][8]
    -   [stop][9]
    -   [doStart][10]
    -   [doStop][11]
    -   [doCancel][12]
-   [resolve][13]
    -   [Parameters][14]
-   [reject][15]
    -   [Parameters][16]
-   [promise][17]

## Service

**Extends EventEmitter**

An object with an operational state, plus [#start()][18] and [#stop()][19] lifecycle methods to transition between states.
Example services include webservers, RPC servers and timers.

<p>The normal lifecycle of a service is:

<ul>
  <li>{@linkplain State#New New} -&gt;
  <li>{@linkplain State#Starting Starting} -&gt;
  <li>{@linkplain State#Running Running} -&gt;
  <li>{@linkplain State#Stopping Stopping} -&gt;
  <li>{@linkplain State#Terminated Terminated}
</ul>

<p>There are deviations from this if there are failures or if {@link Service#stop} is called
before the {@link Service} reaches the {@linkplain State#Running Running} state. The set of legal
transitions form a <a href="http://en.wikipedia.org/wiki/Directed_acyclic_graph">DAG</a>,
therefore every method of the listener will be called at most once. N.B. The {@link State#Failed}
and {@link State#Terminated} states are terminal states, once a service enters either of these
states it cannot ever leave them.

<p>Implementors of this interface are strongly encouraged to extend one of the abstract classes
in this package which implement this interface and make the threading and state management
easier.

### Parameters

-   `name` **[string][20]** 

### failureReason

Returns the [Error][21] that caused this service to fail.

Type: [Error][22]?

### state

Returns the lifecycle state of the service.

Returns **State** 

### isRunning

Returns {@code true} if this service is {@linkplain State#Running Running}.

Returns **[boolean][23]** 

### running

Returns a Promise that resolves when the service
enters the 'Running' state.

Returns **[Promise][24]&lt;void>** 

### terminated

Returns a Promise that is satisfied when the service
enters the a terminal state ('Terminated' or 'Failed')

If the service enters 'Failed', the returned promise
rejects with the failure reason

Returns **[Promise][24]&lt;void>** 

### start

If the service state is [State#New][25], this initiates service startup and returns
immediately. A stopped service may not be restarted.

-   Throws **any** Error if the service is not [State#New][25]

### stop

If the service is {@linkplain State#Starting Starting} or {@linkplain State#Running Running},
this initiates service shutdown and returns immediately. If the service is {@linkplain
State#New New}, it is {@linkplain State#Terminated Terminated} without having been started nor
stopped. If the service has already been stopped, this method returns immediately without
taking action.

### doStart

This method is called by [#start][8] to initiate service startup.

This method returns [Promise][26] which should resolve when the service is
operational or reject with the reason of failure.

It is invoked exactly once on service startup, even when [#start][8] is
called multiple times.

### doStop

This method should be used to initiate service shutdown.

This method returns [Promise][26] which should resolve when the service is
has shut down or reject with the reason of failure.

### doCancel

This method should be used to cancel service startup if [#stop()][19] is called
before the service has transitioned to #Running

This method returns [Promise][26] which should resolve when the service is
has shut down or reject with the reason of failure.

## resolve

A method to resolve the associated Promise with the value passed.
If the promise is already settled it does nothing.

Type: function (any): void

### Parameters

-   `value` **any** : This value is used to resolve the promise
    If the value is a Promise then the associated promise assumes the state
    of Promise passed as value.

## reject

A method to reject the associated Promise with the value passed.
If the promise is already settled it does nothing.

Type: function (any): void

### Parameters

-   `reason` **any** : The reason for the rejection of the Promise.
    Generally its an Error object. If however a Promise is passed, then the Promise
    itself will be the reason for rejection no matter the state of the Promise.

## promise

A newly created Promise object.
Initially in pending state.

Type: [Promise][24]

[1]: #service

[2]: #parameters

[3]: #failurereason

[4]: #state

[5]: #isrunning

[6]: #running

[7]: #terminated

[8]: #start

[9]: #stop

[10]: #dostart

[11]: #dostop

[12]: #docancel

[13]: #resolve

[14]: #parameters-1

[15]: #reject

[16]: #parameters-2

[17]: #promise

[18]: #start()

[19]: #stop()

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[24]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[25]: State#New

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
